<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jqueryMember2.html</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
</head>
<body>
	<div id="addMember">
		<label>ID</label>
		<input type="text" name="id">
		<label>이름</label>
		<input type="text" name="name">
		<label>점수</label>
		<input type="text" name="score">
		<button id="addBtn">추가</button>
	</div>	
	<br><br>
	<div id="memberList">
		<table border="1">
			<thead>
				<tr>
					<th>아이디</th>
					<th>이름</th>
					<th>점수</th>
					<th><input type="checkbox" /></th>
				</tr>
			</thead>
			<tbody>
				<!--<tr>
					<td>user1</td>
					<td>홍길동</td>
					<td>80</td>
					<td><input type="checkbox" /></td>
				</tr>-->
			</tbody>
		</table>
	</div>
	
	<script>
		const members = [
			{id: "user1", name: "Hong", score: 80},
			{id: "user2", name: "Park", score: 85},
			{id: "user3", name: "Hwang", score: 77}
		]
		
		$('').val('99');//값 넣어줌
		$('').val();//값 가져옴
		
		members.forEach(member => {
			$('tbody').append($('<tr />').append(
				$('<td />').text(member.id),
				$('<td />').text(member.name),
				$('<td />').text(member.score),
				$('<td />').append($('<input />').attr('type','checkbox'))
				)
			);
		})
		
		//등록이벤트
		$('#addBtn').on('click',function(e){
			let tr = $('<tr />').append(
							$('<td />').text($('input[name="id"]').val()),
							$('<td />').text($('input[name="name"]').val()),
							$('<td />').text($('input[name="score"]').val()),
							$('<td />').append($('<input />').attr('type','checkbox'))
			);
			$('tbody').append(tr);
			//초기입력상태
			$('input[name="id"]').val('');
			$('input[name="name"]').val('');
			$('input[name="score"]').val('');
		});
		
		//전체선택,해제
		$('thead input:checkbox').on('change',function(e){
			console.log(e.target.checked);
			$('tbody input:checkbox').attr('checked', e.target.checked);
		})
		
		//
		$('tbody input[type="checkbox"]').on('change',function(e){
			//console.log($('tbody input[type="checkbox"]').length);
			//console.log($('tbody input[type="checkbox"]:checked').length);
			let total = $('tbody input[type="checkbox"]').length;
			let checked = $('tbody input[type="checkbox"]:checked').length;
			if(total == checked) {
				$('thead input:checkbox').prop('checked', true);
			}else {
				$('thead input:checkbox').prop('checked', false);
			}
		})
		//attr->다른 속성을 준다거나 true,false 지정 등 사용, prop->true,false 지정할 때 사용
	</script>
</body>
</html>